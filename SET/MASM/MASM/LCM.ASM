PRINT MACRO MSG
LEA DX,MSG
MOV AH,09H
INT 21H
ENDM

READ MACRO N,J1,J2
MOV CX,0AH
J1:MOV AH,01H
INT 21H
CMP AL,0DH
JE J2
SUB AL,30H
MOV BL,AL
MOV AX,N
MUL CX
XOR BH,BH
ADD AX,BX
MOV N,AX
JMP J1
J2:NOP
ENDM

.MODEL SMALL
.STACK 100H
.DATA
STR1 DB "FIRST NUMBER $"
STR2 DB 13,10,"SECOND NUMBER $"
STR3 DB 13,10,"LCM : $"
DATA1 DW 0
DATA2 DW 0
DAT1 DW 0
DAT2 DW 0

.CODE
MAIN PROC

MOV AX,@DATA
MOV DS,AX
PRINT STR1
READ DATA1,JUMP1,JUMP2

PRINT STR2
READ DATA2,JUMP3,JUMP4

MOV BX,DATA1
MOV DAT1,BX
MOV CX,DATA2
MOV DAT2,CX

LOOP1:MOV AX,DAT1
CMP AX,DAT2
JE JUMP5   
JC JUMP6
MOV AX,DAT2
ADD AX,CX
MOV DAT2,AX
JMP LOOP1

JUMP6:MOV AX,DAT1
ADD AX,BX
MOV DAT1,AX
JMP LOOP1

JUMP5:MOV BX,0AH
XOR CX,CX

P1:XOR DX,DX
DIV BX
PUSH DX
INC CX
CMP AX,00H
JNE P1
PRINT STR3

DISPLAY:POP DX
ADD DL,30H
MOV AH,02H
INT 21H
LOOP DISPLAY
MOV AH,4CH
INT 21H

MAIN ENDP
END
